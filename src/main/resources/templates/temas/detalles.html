<!DOCTYPE html>
<html>
<head>
<meta charset = "utf-8">
<meta name= "viewport" content= "width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel = "stylesheet" href= "/css/bootstrap.min.css">
<script src = "/js/jquery-3.6.0.js"></script>
<script src = "/js/bootstrap.min.js"></script>
<title> Lista Replicas</title>
</head>


<body>
	<div class = "container">
		<div class = "jumbotron">
			<h1 class="display-4"th:text= "'Replicas de: '+*{tema}"> </h1>
			<p th:text = "*{mensaje}" class = "lead"> </p>
			<hr class = "my-4">
			<div th:replace="fragmentos :: navbar"></div>
			<p class = "text-danger"></p> 
			
			<div th:if="*{error != null}"
				class= "alert alert-warning alert-dismissible fade show" role = "alert">
				<button type= "button" class = "close" data-dissmiss="alert"> &times;</button>
				<h4 th:text=*{error}></h4>
			</div>
			
			<div class = "row">
				<div class = "col-1"></div>
				<div class = "col-10">
				
					<div th:if = "*{replicas != null}">
						<div th:each = "replica : ${replicas}" class = "card">
							<h5 th:text="${replica.contenido}"> </h5>
							<label th:text = "'Enviado por: '+ ${replica.usuario.alias}"></label>
						</div>
					</div>
					
				</div>
				
			<div class = "col-1"></div>
			</div>
			
			<div class = "row">
				<div class = "col-3"></div>
				<div class = "col-6">
					<form action = "#" th:action = "@{/temas/agregarreplica}" 
						th:object = "${replica}" method = "post">
					<fielset>
					<legend>Responder</legend>
					
					
					<textarea cols = "50" rows = "4" required = "required" 
					th:field = "*{contenido}"
					class = "form-control" placeholder = "Máximo 400 caracteres." 
					maxlength = "200">
					</textarea>
					<input type="hidden" th:field="*{tema}"> 
					<p>
					
						<input type = "submit" value = "Comentar"
						  class="btn btn-primary"/>
						  
						<input type = "reset" value = "Limpiar">
					
					</fielset>
					</form>
				</div>
				
				<div class = "col-3"></div>
			</div>
			<hr class = "my-4">
				<div class = "row">	
				<div class = "col-2"></div>
				<div class = "col-8">
				<p>Desarrollo de Aplicaciones Web. César Pérez Aureliano</p>
				<p> ITSSNP 2021</p>
				</div>
				<div class = "col-2"></div>
				</div>
				
		</div>
	</div>
</body>
</html>